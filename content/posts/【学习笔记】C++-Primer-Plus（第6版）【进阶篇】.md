---
title: 【学习笔记】C++ Primer Plus（第6版）【进阶篇】
date: '2023-06-26T13:47:47+08:00'
tags:
- C/C++
categories:
- 笔记
draft: true
hiddenFromHomePage: true
hiddenFromSearch: true
---

# 【学习笔记】C++ Primer Plus（第6版）【进阶篇】

---

## 目录

---

## 前言Ⅱ

关于《C++ Primer》和《C++ Primer Plus》，我开始以为后者带个plus就是更厉害、进阶版的意思，知乎刷到才知道前者才是给有一定基础的人看的，后者讲的事无巨细给初学者看的，两本书都不是一个作者。这下尴尬了。不过这本看了这么多还是舍不得弃坑就这样吧。以后有机会再补《C++ Primer》，下一本应该会是python，EJS或者Java，也可能准备考研先不看书了。

本来觉得只是查漏补缺，但知识点越记越多显得是否冗余笨重了。都是一些杂七杂八不重要的点也记下来，仓鼠玩家是这样的。所以干脆分成上下两章。上部分基础篇记基础语法，下部分进阶篇记面向对象和语言特性。要是当时没选错书是不是现在就不用搞这么麻烦了呢。（残念）

---

## 第八章 函数探幽

### 8.1 C++内联函数

要了解内联函数，首先我们必须知道程序在调用函数时是怎么做的：

>执行到函数调用指令时，程序将在函数调用后立即存储该指令的内存地址，并将函数参数复制到堆栈(为此保留的内存块)，跳到标记函数起点的内存单元，执行函数代码（也许还需将返回值放入到寄存器中)，然后跳回到地址被保存的指令处(这与阅读文章时停下来看脚注，并在阅读完脚注后返回到以前阅读的地方类似)。来回跳跃并记录跳跃位置意味着以前使用函数时，需要一定的开销。

简单说就是调用函数时来回跳跃和记录位置需要一定的开销，而内联函数就是把函数直接放在调用函数的位置，不需要跳跃从而节省开销，是一个以空间换时间的方法。但由于非内联调用函数的过程本身也很快，通常我们只内联代码执行时间短，经常被调用的函数。

内联函数的使用方法是在函数声明或函数定义前加上关键字`inline`。但编译器不一定会将函数内联，一方面是编译器认为函数过大或**存在递归**，另一方面是有些编译器没有启用或实现这个功能。

内联函数看上去与C宏类似，但C宏是文本替换而内联函数是按值传递，会比C宏更好用且不易出错。

### 8.2 引用变量

#### 作为函数形参

书中详细阐述了引用变量的定义和使用以及其和指针的区别。但我觉得初步理解使用引用就一句话： **引用就是被引用对象的另一个名字。** 你完全可以把引用当做被引用对象来用，这也是引用最常见的用法：**作为函数形参**。使用引用作为函数形参，既避免了使用指针的繁琐，又解决了函数只能有一个返回值的问题。你完全可以多放几个参数到函数的参数列表里当返回值用。

#### 临时变量、引用参数和const

如果引用参数是const，则编译器将在下面两种情况下生成临时变量:

* 实参的类型正确，但不是左值;
* 实参的类型不正确，但可以转换为正确的类型。

##### 左值

>左值是什么呢?左值参数是可被引用的数据对象，例如，变量、数组元素、结构成员、引用和解除引用的指针都是左值。非左值包括字面常量（用引号括起的字符串除外，它们由其地址表示）和包含多项的表达式。在C语言中，左值最初指的是可出现在赋值语句左边的实体，但这是引入关键字const 之前的情况。现在，常规变量和const变量都可视为左值，因为可通过地址访问它们。但常规变量属于可修改的左值，而const变量属于不可修改的左值。

### 8.3 默认参数

### 8.4 函数重载

### 8.5 函数模板
